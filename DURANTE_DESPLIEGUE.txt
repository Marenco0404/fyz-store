â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    DURANTE EL DESPLIEGUE                       â•‘
â•‘                 (QuÃ© esperar en cada paso)                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CUANDO EJECUTAS: npm install -g firebase-tools
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Output esperado:
  added X packages
  âœ” Success!

â±ï¸ DuraciÃ³n: 1-2 minutos


CUANDO EJECUTAS: firebase login
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Output esperado:
  âœ” Success! Logged in as tu_email@gmail.com

â±ï¸ DuraciÃ³n: 30 segundos (abre navegador para confirmaciÃ³n)


CUANDO EJECUTAS: cd functions && npm install && cd ..
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Output esperado:
  added X packages (en functions)
  npm notice [...]

â±ï¸ DuraciÃ³n: 1-2 minutos


CUANDO EJECUTAS: firebase functions:config:set stripe.secret="sk_test_..."
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Output esperado:
  âœ” Set the following config values in firebase config:
    stripe.secret = "sk_test_..."

â±ï¸ DuraciÃ³n: 5-10 segundos


CUANDO EJECUTAS: firebase deploy
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

VerÃ¡s algo como:

  i deploying functions, hosting
  i project: fyzperfumeria
  ...
  
  âœ” Deploy of functions complete after XXs
  Function URL (createPaymentIntent):
    https://us-central1-fyzperfumeria.cloudfunctions.net/createPaymentIntent
  
  i deploying hosting
  âœ” Deploy of hosting complete after XXs
  
  âœ” Deploy complete!
  
  Project Console: https://console.firebase.google.com/project/fyzperfumeria/overview
  Hosting URL: https://fyzperfumeria.web.app

â±ï¸ DuraciÃ³n: 2-3 minutos

âœ… SI VES TODO ESTO = DESPLIEGUE EXITOSO


ERRORES COMUNES Y SOLUCIONES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âŒ "You do not have permission to access project..."
âœ… SoluciÃ³n:
   firebase logout
   firebase login
   (Asegurate de iniciar sesiÃ³n con la cuenta que tiene el proyecto)


âŒ "npm: command not found"
âœ… SoluciÃ³n:
   - Instala Node.js desde https://nodejs.org
   - Reinicia PowerShell


âŒ "firebase: command not found"
âœ… SoluciÃ³n:
   npm install -g firebase-tools
   (Asegurate de estar en PowerShell como ADMINISTRADOR)


âŒ "CORS error en DevTools"
âœ… SoluciÃ³n:
   - Recarga el navegador (Ctrl+F5)
   - Borra cachÃ© (Ctrl+Shift+Delete)
   - Espera 30 segundos y intenta de nuevo


âŒ "Stripe error: amountCents invÃ¡lido"
âœ… SoluciÃ³n:
   - Significa que el producto cuesta menos de USD 0.50
   - Esto es una restricciÃ³n de Stripe (mÃ­nimo USD 0.50)
   - AumentÃ¡ el precio del producto


âŒ "No se pudo armar URL de Cloud Function"
âœ… SoluciÃ³n:
   - La funciÃ³n no estÃ¡ desplegada
   - Ejecuta: firebase deploy --only functions


DESPUÃ‰S DE DESPLEGAR:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ… Abre el navegador
âœ… Ve a: https://fyzperfumeria.web.app/finalizarcompra.html
âœ… Agrega un producto al carrito
âœ… Llena datos de envÃ­o
âœ… Selecciona "Tarjeta de CrÃ©dito"
âœ… Usa: 4242 4242 4242 4242 (tarjeta de prueba)
âœ… Cualquier fecha futura y CVC
âœ… Verifica que aparezca "ConfirmaciÃ³n de pago"


VERIFICAR QUE TODO FUNCIONA:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

DevTools (F12) â†’ Console debe mostrar:
  âœ… "[Firebase] Firebase initialized"
  âœ… "CheckoutSystem.init()"
  âœ… "ğŸ”— URL de funciÃ³n: https://us-central1-..."
  âœ… "ğŸ“¡ Response status: 200"
  âœ… "âœ… Pedido guardado"

Si ves âŒ rojo en la console, algo fallÃ³. Lee el mensaje de error.


CAMBIOS FUTUROS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Para actualizar el sitio en vivo:

  1. Edita archivos (HTML, CSS, JS)
  2. Ejecuta: firebase deploy
  3. Espera 1-2 minutos
  4. Abre navegador en https://fyzperfumeria.web.app
  5. Presiona Ctrl+F5 (fuerza recarga sin cachÃ©)

Â¡Eso es todo! El sitio se actualiza automÃ¡ticamente.


VER LOGS Y DIAGNOSTICAR:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ver logs de Cloud Functions:
  firebase functions:log

Ver configuraciÃ³n actual:
  firebase functions:config:get

Ver URLs y estado:
  firebase deploy (sin ejecutar, solo lee estado)

Ver datos de pedidos:
  https://console.firebase.google.com/project/fyzperfumeria/firestore/data


Â¿NECESITÃS ROLLBACK?
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Si algo se rompiÃ³:

  1. Vuelve a la versiÃ³n anterior de archivos (Git, backup)
  2. Ejecuta: firebase deploy
  3. Espera a que se actualice

Stripe y PayPal serÃ¡n restaurados automÃ¡ticamente.


MONITOREO:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Revisar pagos registrados:
  â†’ Firebase Console â†’ Firestore â†’ ColecciÃ³n "pedidos"

Ver errores en tiempo real:
  â†’ firebase functions:log

EstadÃ­sticas de trÃ¡fico:
  â†’ Firebase Console â†’ Hosting â†’ Analiticstics
